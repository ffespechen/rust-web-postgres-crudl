{% extends "base.html" %} {% block title %}Catálogo de Libros{% endblock %} {%
block content %}

<div class="d-flex justify-content-between align-items-center mb-4">
  <h1>Libros Registrados</h1>
  <a href="/web/books/new" class="btn btn-primary">
    <i class="bi bi-plus-lg"></i> Añadir Libro
  </a>
</div>

<form action="/web/books" method="GET" class="mb-4">
  <div class="input-group">
    <input
      type="text"
      name="search"
      class="form-control"
      placeholder="Buscar por título o autor..."
      aria-label="Buscar"
      value=""
    />
    <button class="btn btn-outline-secondary" type="submit">Buscar</button>
    <a href="/web/books" class="btn btn-outline-danger">Limpiar</a>
  </div>
</form>

<div class="card shadow-sm">
  <div class="table-responsive">
    <table class="table table-hover align-middle mb-0">
      <thead class="table-dark">
        <tr>
          <th>Título</th>
          <th>Autor</th>
          <th class="text-center">Año</th>
          <th class="text-end">Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for book in books %}
        <tr>
          <td class="fw-bold">{{ book.title }}</td>
          <td>{{ book.author }}</td>
          <td class="text-center">{{ book.published_date }}</td>
          <td class="text-end">
            <div class="btn-group" role="group">
              <a
                href="/web/books/edit/{{ book.id }}"
                class="btn btn-sm btn-outline-warning"
                >Editar</a
              >

              <form
                action="/web/books/delete/{{ book.id }}"
                method="POST"
                class="d-inline"
                onsubmit="
                  return confirm('¿Estás seguro de querer borrar este libro?')
                "
              >
                <button type="submit" class="btn btn-sm btn-outline-danger">
                  Borrar
                </button>
              </form>
            </div>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
